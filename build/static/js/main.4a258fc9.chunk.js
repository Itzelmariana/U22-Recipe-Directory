(this["webpackJsonpcooking-ninja"]=this["webpackJsonpcooking-ninja"]||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(35),r=c.n(i),s=(c(40),c(15)),o=c(4),l=c(14),d=c(5),j=(c(41),c(7)),u=c.n(j),b=c(9),O=c(2),p=Object(n.createContext)(),h=function(e,t){switch(t.type){case"CHANGE_COLOR":return Object(l.a)(Object(l.a)({},e),{},{color:t.payload});case"CHANGE_MODE":return Object(l.a)(Object(l.a)({},e),{},{mode:t.payload});default:return Object(l.a)({},e)}};function f(e){var t=e.children,c=Object(n.useReducer)(h,{color:"purple",mode:"light"}),a=Object(d.a)(c,2),i=a[0],r=a[1];return Object(O.jsx)(p.Provider,{value:Object(l.a)(Object(l.a)({},i),{},{changeColor:function(e){r({type:"CHANGE_COLOR",payload:e})},changeMode:function(e){r({type:"CHANGE_MODE",payload:e})}}),children:t})}var x=function(){var e=Object(n.useContext)(p);if(void 0===e)throw new Error("useTheme() must be used inside a ThemeProvider");return e},m=c(32);c(54);m.a.initializeApp({apiKey:"AIzaSyCoHbMBP9kNXmZn2cNgBbsaE7cIj5B9U4Q",authDomain:"cooking-directory-fa858.firebaseapp.com",projectId:"cooking-directory-fa858",storageBucket:"cooking-directory-fa858.appspot.com",messagingSenderId:"494822893024",appId:"1:494822893024:web:a63bd747a95df6e4667785"});var v=m.a.firestore(),g=c.p+"static/media/delete.3270f2c9.svg",N=c.p+"static/media/edit.5b4bbee2.svg";c(45);function k(e){var t=e.recipes,c=e.isDeleted,a=Object(n.useState)(null),i=Object(d.a)(a,2),r=i[0],l=i[1],j=Object(n.useState)(null),p=Object(d.a)(j,2),h=p[0],f=p[1],m=Object(o.j)(),k=Object(o.l)(),y=x().mode;if(Object(n.useEffect)((function(){m.state&&(m.state.addedRecipe?l(m.state.addedRecipe):m.state.updatedRecipe&&f(m.state.updatedRecipe),setTimeout((function(){m.state=null,l(null),f(null)}),[3e3]))}),[m]),0===t.length)return Object(O.jsx)("div",{className:"error",children:"No recipes to load..."});function C(){return(C=Object(b.a)(u.a.mark((function e(t){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(null),c=v.collection("recipes"),n=c.doc(t),e.next=5,n.delete();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"delete-alert-container",style:{display:c?"flex":"none"},children:Object(O.jsx)("div",{className:c?"delete-alert show":"delete-alert",children:"Recipe Deleted!"})}),Object(O.jsx)("div",{className:"add-alert-container",style:{display:r?"flex":"none"},children:Object(O.jsx)("div",{className:r?"add-alert show":"add-alert",children:"Recipe ".concat(r?"for "+r.title:""," Added!")})}),Object(O.jsx)("div",{className:"update-alert-container",style:{display:h?"flex":"none"},children:Object(O.jsx)("div",{className:h?"update-alert show":"update-alert",children:"Recipe Updated!"})}),Object(O.jsx)("div",{className:"recipe-list",children:t.map((function(e){return Object(O.jsxs)("div",{className:"card ".concat(y),children:[Object(O.jsx)("h3",{children:e.title}),Object(O.jsxs)("p",{children:[e.cookingTime," minutes to make."]}),Object(O.jsxs)("div",{children:[e.method.substring(0,100),"..."]}),Object(O.jsx)(s.b,{to:"/recipes/".concat(e.id),children:"Cook This.."}),Object(O.jsx)("img",{src:N,className:"edit",alt:"delete icon",onClick:function(){return k("/edit/".concat(e.id))}}),Object(O.jsx)("img",{src:g,className:"delete",alt:"delete icon",onClick:function(){return function(e){return C.apply(this,arguments)}(e.id)}})]},e.id)}))})]})}function y(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),r=Object(d.a)(i,2),s=r[0],o=r[1],j=Object(n.useState)(!1),u=Object(d.a)(j,2),b=u[0],p=u[1],h=Object(n.useState)(!1),f=Object(d.a)(h,2),x=f[0],m=f[1];return Object(n.useEffect)((function(){o(!0);var e=v.collection("recipes").onSnapshot((function(e){if(e.empty)p("No recipes to load"),a(null),o(!1);else{"removed"===e.docChanges()[0]._delegate.type?(m(!0),setTimeout((function(){m(!1)}),3e3)):m(!1);var t=[];e.docs.forEach((function(e){t.push(Object(l.a)({id:e.id},e.data()))})),a(t),p(!1),o(!1)}}),(function(e){p(e.message),o(!1)}));return function(){e()}}),[]),Object(O.jsxs)("div",{children:[b&&Object(O.jsx)("p",{className:"error",children:b}),s&&Object(O.jsx)("p",{className:"loading",children:"Loading.."}),c&&Object(O.jsx)(k,{recipes:c,isDeleted:x})]})}var C=c(12);c(46);function S(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),r=Object(d.a)(i,2),s=r[0],l=r[1],j=Object(n.useState)(""),p=Object(d.a)(j,2),h=p[0],f=p[1],m=Object(n.useState)(""),g=Object(d.a)(m,2),N=g[0],k=g[1],y=Object(n.useState)([]),S=Object(d.a)(y,2),R=S[0],w=S[1],T=Object(n.useState)(!1),E=Object(d.a)(T,2),I=E[0],A=E[1],D=Object(n.useState)(!1),L=Object(d.a)(D,2),M=L[0],q=L[1],B=Object(n.useState)(!1),U=Object(d.a)(B,2),H=U[0],P=U[1],_=Object(n.useRef)(null),G=Object(n.useRef)(),z=x(),F=z.mode,J=z.color,K=Object(o.l)(),Q=Object(o.j)().search,X=new URLSearchParams(Q).get("action"),Z=Object(o.n)().id;function V(){return(V=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),q(!0),n={title:c,ingredients:R,method:s,cookingTime:h},H){e.next=26;break}if("create"!==X){e.next=16;break}return e.prev=5,e.next=8,v.collection("recipes").add(n);case 8:q(!1),setTimeout((function(){return K("/",2e3)})),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(5);case 14:e.next=26;break;case 16:return e.prev=16,e.next=19,v.collection("recipes").doc(Z).update(n);case 19:q(!1),setTimeout((function(){return K("/",2e3)})),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(16),console.log(e.t1);case 26:case"end":return e.stop()}}),e,null,[[5,12],[16,23]])})))).apply(this,arguments)}Object(n.useEffect)((function(){X?(a(""),l(""),f(""),w([])):(P(!1),v.collection("recipes").doc(Z).get().then((function(e){var t=e.data();a(t.title),l(t.method),f(t.cookingTime),w(t.ingredients)})))}),[X,Z]);return Object(O.jsxs)("div",{className:"create ".concat(F),children:[Object(O.jsx)("h2",{className:"page-title",children:"create"===X?"Add a new Recipe!":"Update your Recipe!"}),Object(O.jsxs)("form",{onSubmit:function(e){return V.apply(this,arguments)},ref:G,children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"create"===X?"Recipe Title:":"New Title:"}),Object(O.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)},value:c,required:!0,disabled:"create"!==X&&!c})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"create"===X?"Recipe Ingredients:":"New Ingredients:"}),Object(O.jsxs)("div",{className:"ingredients",children:[Object(O.jsx)("input",{type:"text",onChange:function(e){k(e.target.value),A(!1)},value:N,ref:_}),Object(O.jsx)("button",{className:"btn",onClick:function(e){e.preventDefault(),q(!1),N&&R.includes(N)&&(A(!0),setTimeout((function(){A(!1)}),2e3)),N&&!R.includes(N)&&w((function(e){return[].concat(Object(C.a)(e),[N.trim()])})),k(""),_.current.focus()},style:{backgroundColor:J},children:"Add"}),I&&Object(O.jsx)("p",{className:"ingredient-error",children:"Ingredient already added! "}),H&&Object(O.jsx)("p",{className:"ingredient-error",children:"There should be at least one ingredient"})]})]}),Object(O.jsxs)("p",{children:["Current Ingredients:"," ",R.map((function(e,t){return Object(O.jsxs)("span",{children:[Object(O.jsxs)("em",{style:{borderBottom:"1px solid"+J,cursor:"pointer"},onClick:function(){return e=t,void w((function(t){return t.filter((function(c){return c!==t[e]}))}));var e},children:[e," "]}),Object(O.jsx)("span",{children:", "})]},"ingredient-"+t)}))]}),Object(O.jsx)("p",{style:{fontSize:"0.8rem"},children:"Click on an ingredient to delete it"}),Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"create"===X?"Recipe Method:":"New Method:"}),Object(O.jsx)("textarea",{onChange:function(e){return l(e.target.value)},value:s,required:!0,disabled:"create"!==X&&!s})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"create"===X?"Cooking Time (minutes): ":"New Cooking Time(minutes):"}),Object(O.jsx)("input",{type:"number",onChange:function(e){return f(e.target.value)},value:h,required:!0})]}),M&&!H,(!M||H)&&Object(O.jsx)("button",{className:"button",style:{backgroundColor:J},children:"create"===X?"Submit":"Update"})]})]})}c(47);function R(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),r=Object(d.a)(i,2),s=r[0],j=r[1],u=Object(o.j)().search,b=new URLSearchParams(u).get("q");return Object(n.useEffect)((function(){j(!0),a(null),v.collection("recipes").get().then((function(e){var t=[];e.forEach((function(e){e.data().title.toLowerCase().includes(b.toLowerCase())&&t.push(Object(l.a)({id:e.id},e.data()))})),j(!1),a(t)}))}),[b]),Object(O.jsxs)("div",{children:[Object(O.jsxs)("h2",{className:"page-title",children:['Recipes including "',b,'"']}),s&&Object(O.jsx)("p",{className:"loading",children:"Loading..."}),c&&Object(O.jsx)(k,{recipes:c})]})}c(48);function w(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),r=Object(d.a)(i,2),s=r[0],l=r[1],j=Object(n.useState)(!1),u=Object(d.a)(j,2),b=u[0],p=u[1],h=Object(o.n)().id,f=Object(o.l)(),m=x().mode;return Object(n.useEffect)((function(){l(!0);var e=v.collection("recipes").doc(h).onSnapshot((function(e){e.exists?(l(!1),a(e.data()),p(!1)):(l(!1),p("Could not find that recipe"))}));return function(){return e()}}),[h]),Object(O.jsxs)("div",{className:"recipe ".concat(m),children:[Object(O.jsx)("img",{className:"editIcon",src:N,alt:"Edit Recipe",onClick:function(){return f("/edit/".concat(h))},style:{filter:"dark"===m?"invert(100%)":"invert(20%)"}}),s&&Object(O.jsx)("div",{className:"loading",children:"Loading..."}),b&&Object(O.jsx)("div",{className:"error",children:b}),c&&Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{className:"page-title",children:c.title}),Object(O.jsxs)("p",{className:"mins",children:["Takes ",c.cookingTime," minutes to cook."]}),Object(O.jsx)("ul",{children:c.ingredients.map((function(e,t){return Object(O.jsx)("li",{children:e},e)}))}),Object(O.jsx)("p",{children:c.method})]})]})}c(49);function T(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],i=Object(o.l)();return Object(O.jsx)("div",{className:"searchbar",children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i("/search?q=".concat(c))},children:[Object(O.jsx)("label",{htmlFor:"search",children:"Search:"}),Object(O.jsx)("input",{type:"text",id:"search",onChange:function(e){return a(e.target.value)},value:c,required:!0})]})})}c(50);function E(){var e=x().color;return Object(O.jsxs)("nav",{className:"navbar",style:{background:e},children:[Object(O.jsx)("h1",{children:Object(O.jsx)(s.b,{to:"/",children:"Recipe Directory "})}),Object(O.jsx)(T,{}),Object(O.jsx)(s.c,{to:"/create?action=create",className:"box",children:"Create Recipe"})]})}c(51),c(52);var I=c.p+"static/media/modeIcon.18c28fe1.svg",A=["#58429c","#249c6b","#b70233","hotpink","purple"];function D(){var e=x(),t=e.changeColor,c=e.changeMode,n=e.mode;return Object(O.jsxs)("div",{className:"theme-selector",children:[Object(O.jsx)("div",{className:"mode-toggle",children:Object(O.jsx)("img",{src:I,alt:"mode icon dark/light",onClick:function(){c("dark"===n?"light":"dark")},style:{filter:"dark"===n?"invert(100%)":"invert(20%)"}})}),Object(O.jsx)("div",{className:"theme-buttons",children:A.map((function(e){return Object(O.jsx)("div",{onClick:function(){return t(e)},style:{background:e}},e)}))})]})}var L=function(){var e=x().mode;return Object(O.jsx)("div",{className:"App ".concat(e),children:Object(O.jsxs)(s.a,{children:[Object(O.jsx)(E,{}),Object(O.jsx)(D,{}),Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{path:"/",element:Object(O.jsx)(y,{})}),Object(O.jsx)(o.a,{path:"/create",element:Object(O.jsx)(S,{})}),Object(O.jsx)(o.a,{path:"/edit/:id",element:Object(O.jsx)(S,{})}),Object(O.jsx)(o.a,{path:"/search",element:Object(O.jsx)(R,{})}),Object(O.jsx)(o.a,{path:"/recipes/:id",element:Object(O.jsx)(w,{})})]})]})})};r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(f,{children:Object(O.jsx)(L,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.4a258fc9.chunk.js.map